name: "üç° Sync README to Profiles üç©"

on:
  push:
    branches:
      - main
    paths:
      - README.md

permissions:
  contents: write

jobs:
  sync:
    runs-on: ubuntu-latest
    steps:
      - name: "üçô Checkout Liora repo"
        uses: actions/checkout@v4
        with:
          fetch-depth: 0

      - name: "üç© Clone Profile Repo (Naruya Izumi)"
        run: |
          git clone https://x-access-token:${{ secrets.PAT_TOKEN }}@github.com/naruyaizumi/naruyaizumi.git profile-repo-izumi

      - name: "üç∞ Copy README to Profile Repo (Naruya Izumi)"
        run: |
          cp README.md profile-repo-izumi/README.md

      - name: "üç¨ Commit & Push to Profile Repo (Naruya Izumi)"
        run: |
          cd profile-repo-izumi
          git config user.name "üç° Liora Bot"
          git config user.email "liora@bot"
          git add README.md || true
          git commit -m "üç∞ Sync README from Liora Repo ‚Üí Izumi" || echo "‚ú® No changes to commit"
          git push origin main

      - name: "üç© Clone Profile Repo (Liora Official)"
        run: |
          git clone https://x-access-token:${{ secrets.PAT_LIORA }}@github.com/liora-official/liora-official.git profile-repo-liora

      - name: "üç∞ Copy README to Profile Repo (Liora Official)"
        run: |
          cp README.md profile-repo-liora/README.md

      - name: "üç¨ Commit & Push to Profile Repo (Liora Official)"
        run: |
          cd profile-repo-liora
          git config user.name "üç° Liora Bot"
          git config user.email "liora@bot"
          git add README.md || true
          git commit -m "üç∞ Sync README from Liora Repo ‚Üí Liora Official" || echo "‚ú® No changes to commit"
          git push origin main
